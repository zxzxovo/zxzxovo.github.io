<script>
    // Show Comments
    document.addEventListener('DOMContentLoaded', function () {
        const path = window.location.pathname;
        const footer = document.querySelector('footer.site-footer');
        // console.log("WTF hugo.toml doesnt work");
        
        const comPaths = [];
        comPaths.push("/post/");
        comPaths.push("/pages/links/");

        if (comPaths.some(p => path.startsWith(p))) {

            if (footer) {
                const script = document.createElement('script');
                script.src = 'https://giscus.app/client.js';
                script.async = true;
                script.setAttribute('data-repo', 'zxzxovo/zxzxovo.github.io');
                script.setAttribute('data-repo-id', 'R_kgDONxTewg');
                script.setAttribute('data-category', 'General');
                script.setAttribute('data-category-id', 'DIC_kwDONxTews4CmeWY');
                script.setAttribute('data-mapping', 'pathname');
                script.setAttribute('data-strict', '0');
                script.setAttribute('data-reactions-enabled', '1');
                script.setAttribute('data-emit-metadata', '0');
                script.setAttribute('data-input-position', 'bottom');
                script.setAttribute('data-theme', 'preferred_color_scheme');
                script.setAttribute('data-lang', 'zh-CN');
                script.setAttribute('data-loading', 'lazy');
                script.setAttribute('crossorigin', 'anonymous');

                footer.parentNode.insertBefore(script, footer);
            }
        }
    });

</script>
