<script setup lang="ts">
import { ref, onMounted } from "vue";
import CardView from "@/components/CardView.vue";

// æœåŠ¡æ•°æ®
const services = ref([
  {
    id: 1,
    title: "å‰ç«¯/åç«¯å¼€å‘",
    icon: "ğŸŒ",
    description:
      "åŸºäºVueçš„ç°ä»£åŒ–å‰ç«¯å¼€å‘ï¼Œç»“åˆRust actix-webï¼ŒJava Springç­‰æŠ€æœ¯æ ˆçš„åç«¯å¼€å‘æœåŠ¡",
    features: [
      "Vue.js/React å“åº”å¼å‰ç«¯ç•Œé¢",
      "Java Spring Boot åç«¯",
      "Rust actix-web é«˜æ€§èƒ½API",
      "æ•°æ®åº“è®¾è®¡ä¸ä¼˜åŒ–",
      "RESTful API è®¾è®¡ä¸å®ç°",
      "å‰åç«¯åˆ†ç¦»æ¶æ„",
    ],
    technologies: [
      "Vue.js",
      "TypeScript",
      "Java",
      "Spring",
      "Rust",
      "MySQL",
      "Redis",
    ],
    price: "Â¥1000 +",
    duration: "1-3 å‘¨",
    gradient: "from-blue-500 to-indigo-600",
  },
  {
    id: 2,
    title: "PCç«¯å·¥å…·å¼€å‘",
    icon: "ğŸ–¥ï¸",
    description:
      "ä½¿ç”¨Rustã€C/C++ã€Javaç­‰ç¼–ç¨‹è¯­è¨€å¼€å‘é«˜æ€§èƒ½PCç«¯å·¥å…·è½¯ä»¶ï¼Œæä¾›åŸç”Ÿæ€§èƒ½å’Œä¼˜ç§€ç”¨æˆ·ä½“éªŒ",
    features: [
      "è·¨å¹³å°æ¡Œé¢åº”ç”¨å¼€å‘",
      "ç°ä»£åŒ–UIè®¾è®¡",
      "é«˜æ€§èƒ½ç³»ç»Ÿå·¥å…·",
      "å†…å­˜å®‰å…¨ä¿è¯",
      "å¤šçº¿ç¨‹å¹¶å‘å¤„ç†",
    ],
    technologies: ["Rust", "Tauri", "C/C++", "Java", "Vue.js", "Electron"],
    price: "Â¥300 +",
    duration: "1-4 å‘¨",
    gradient: "from-purple-500 to-pink-600",
  },
  {
    id: 3,
    title: "ç”Ÿä¿¡è½¯ä»¶å¼€å‘",
    icon: "ğŸ§¬",
    description:
      "ä¸“ä¸šçš„ç”Ÿç‰©ä¿¡æ¯å­¦å·¥å…·å¼€å‘ï¼ŒåŒ…æ‹¬åŸºå› åºåˆ—å¤„ç†ã€é«˜é€šé‡æµ‹åºæ•°æ®å¤„ç†ã€æ•°æ®å¯è§†åŒ–åˆ†æç­‰å„ç§æ–‡ä»¶å¤„ç†å·¥å…·",
    features: [
      "åŸºå› åºåˆ—åˆ†æç®—æ³•",
      "é«˜é€šé‡æµ‹åºæ•°æ®å¤„ç†",
      "ç”Ÿç‰©æ•°æ®å¯è§†åŒ–",
      "æ–‡ä»¶æ•°æ®å¤„ç†å·¥å…·",
      "FASTA/FASTQæ ¼å¼æ”¯æŒ",
      "ç»Ÿè®¡åˆ†æä¸æŠ¥å‘Šç”Ÿæˆ",
    ],
    technologies: ["Rust", "Python", "BioPython", "R", "D3.js", "pandas"],
    price: "Â¥400 +",
    duration: "2-6 å‘¨",
    gradient: "from-green-500 to-teal-600",
  },
  {
    id: 4,
    title: "ä½œä¸šè¾…å¯¼/æŠ€æœ¯åŸ¹è®­",
    icon: "ğŸ“",
    description:
      "æä¾›å¤§å­¦ç”Ÿè½¯ä»¶è®¾è®¡ä½œä¸šè¾…å¯¼ã€ç¼–ç¨‹æŠ€æœ¯åŸ¹è®­ã€ä»£ç å®¡æŸ¥ã€æŠ€æœ¯å’¨è¯¢å’Œé¡¹ç›®æŒ‡å¯¼æœåŠ¡",
    features: [
      "ä¸€å¯¹ä¸€ç¼–ç¨‹æŒ‡å¯¼",
      "è½¯ä»¶è®¾è®¡ä½œä¸šè¾…å¯¼",
      "ä»£ç è´¨é‡å®¡æŸ¥",
      "æ¶æ„è®¾è®¡å’¨è¯¢",
      "å­¦ä¹ è·¯å¾„è§„åˆ’",
      "æŠ€æœ¯é¢è¯•æŒ‡å¯¼",
    ],
    technologies: ["å¤šè¯­è¨€æ”¯æŒ", "æœ€ä½³å®è·µ", "è®¾è®¡æ¨¡å¼", "ç®—æ³•ä¸æ•°æ®ç»“æ„"],
    price: "Â¥66+",
    duration: "çµæ´»å®‰æ’",
    gradient: "from-orange-500 to-red-600",
  },
]);

// æŠ€æœ¯æ ˆåˆ†ç±»
const techStacks = ref([
  {
    category: "ç¼–ç¨‹è¯­è¨€",
    icon: "ğŸ’»",
    skills: [
      { name: "Rust", level: 90, color: "#CE422B" },
      { name: "Java", level: 85, color: "#ED8B00" },
      { name: "C/C++", level: 75, color: "#00599C" },
      { name: "JavaScript/TypeScript", level: 70, color: "#3178C6" },
      { name: "Python", level: 75, color: "#3776AB" },
      { name: "Kotlin", level: 70, color: "#7F52FF" },
    ],
  },
  {
    category: "æ¡†æ¶/åº”ç”¨",
    icon: "ğŸ”§",
    skills: [
      { name: "Vue.js", level: 85, color: "#4FC08D" },
      { name: "Spring", level: 80, color: "#6DB33F" },
      { name: "Tauri", level: 80, color: "#FFC131" },
      { name: "Tokio", level: 60, color: "#CE422B" },
      { name: "MySQL", level: 85, color: "#4479A1" },
      { name: "Redis", level: 70, color: "#DC382D" },
      { name: "Android", level: 80, color: "#3DDC84" },
    ],
  },
  {
    category: "å·¥å…·",
    icon: "ğŸ› ï¸",
    skills: [
      { name: "Git/GitHub", level: 90, color: "#F05032" },
      { name: "Linux", level: 85, color: "#FCC624" },
      { name: "Vim", level: 80, color: "#019733" },
      { name: "VSCode", level: 92, color: "#007ACC" },
      { name: "Docker", level: 70, color: "#2496ED" },
      { name: "AI Vibe coding", level: 88, color: "#009639" },
    ],
  },
]);

// è”ç³»æ–¹å¼
const contacts = ref([
  {
    platform: "é‚®ç®±",
    value: "zhixiaovo@gmail.com",
    icon: "ğŸ“§",
    link: "mailto:zhixiaovo@gmail.com",
    color: "text-red-600 dark:text-red-400",
  },
  {
    platform: "QQ",
    value: "2244697793",
    icon: "ğŸ’¬",
    link: "https://qm.qq.com/cgi-bin/qm/qr?k=your_qq_qr_code",
    color: "text-blue-600 dark:text-blue-400",
  },
  {
    platform: "å¾®ä¿¡",
    value: "hizhixia",
    icon: "ğŸ’­",
    link: "#",
    color: "text-green-600 dark:text-green-400",
  },
  {
    platform: "Telegram",
    value: "t.me/zhixiaovo",
    icon: "âœˆï¸",
    link: "https://t.me/zhixiaovo",
    color: "text-sky-600 dark:text-sky-400",
  },
]);

// åŠ¨ç”»çŠ¶æ€
const isVisible = ref(false);

// å¤åˆ¶è”ç³»æ–¹å¼
const copyToClipboard = async (text: string, platform: string) => {
  try {
    await navigator.clipboard.writeText(text);
    // è¿™é‡Œå¯ä»¥æ·»åŠ æç¤ºæ¶ˆæ¯
    console.log(`${platform} å·²å¤åˆ¶åˆ°å‰ªè´´æ¿`);
  } catch (err) {
    console.error("å¤åˆ¶å¤±è´¥:", err);
  }
};

onMounted(() => {
  // å»¶è¿ŸåŠ è½½åŠ¨ç”»
  setTimeout(() => {
    isVisible.value = true;
  }, 100);
});
</script>

<template>
  <div class="bg-gray-50 dark:bg-zinc-900 py-8 px-4">
    <div class="max-w-7xl mx-auto">
      <!-- æœåŠ¡åˆ—è¡¨ -->
      <section class="mb-16">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <CardView
            v-for="service in services"
            :key="service.id"
            class="hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group"
            padding="p-0"
            css-width="w-full"
          >
            <div class="relative overflow-hidden">
              <!-- èƒŒæ™¯æ¸å˜ -->
              <div
                class="absolute top-0 left-0 w-full h-40 bg-gradient-to-r"
                :class="service.gradient"
              ></div>

              <!-- æœåŠ¡å†…å®¹ -->
              <div class="relative p-6 pt-8">
                <div class="flex items-start mb-4">
                  <span class="text-4xl mr-4 mt-2">{{ service.icon }}</span>
                  <div class="flex-1">
                    <h3 class="text-xl font-bold text-white mb-2">
                      {{ service.title }}
                    </h3>
                    <div class="flex items-center text-white/80 text-sm">
                      <span class="mr-4">ğŸ’° {{ service.price }}</span>
                      <span>â±ï¸ {{ service.duration }}</span>
                    </div>
                  </div>
                </div>

                <div class="bg-white dark:bg-zinc-800 rounded-lg p-6 mt-6">
                  <p
                    class="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed"
                  >
                    {{ service.description }}
                  </p>

                  <!-- ç‰¹æ€§åˆ—è¡¨ -->
                  <div class="mb-4">
                    <h4
                      class="font-semibold text-gray-900 dark:text-white mb-3"
                    >
                      æœåŠ¡å†…å®¹ï¼š
                    </h4>
                    <ul class="space-y-2">
                      <li
                        v-for="feature in service.features"
                        :key="feature"
                        class="flex items-start text-sm text-gray-600 dark:text-gray-300"
                      >
                        <span class="text-green-500 mr-2 mt-0.5 flex-shrink-0"
                          >âœ“</span
                        >
                        <span>{{ feature }}</span>
                      </li>
                    </ul>
                  </div>

                  <!-- æŠ€æœ¯æ ‡ç­¾ -->
                  <div>
                    <h4
                      class="font-semibold text-gray-900 dark:text-white mb-3"
                    >
                      æŠ€æœ¯æ ˆï¼š
                    </h4>
                    <div class="flex flex-wrap gap-2">
                      <span
                        v-for="tech in service.technologies"
                        :key="tech"
                        class="px-3 py-1 bg-gray-100 dark:bg-zinc-700 text-gray-700 dark:text-gray-300 rounded-full text-xs font-medium hover:bg-blue-100 dark:hover:bg-zinc-600 transition-colors"
                      >
                        {{ tech }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardView>
        </div>
      </section>

      <!-- æŠ€æœ¯æ ˆå±•ç¤º -->
      <section class="mb-16">
        <h2
          class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center"
        >
          æŠ€æœ¯æ ˆ
        </h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <CardView
            v-for="(stack, index) in techStacks"
            :key="index"
            class="hover:shadow-xl transition-all duration-300 relative overflow-hidden"
            padding="p-6"
          >

            <div class="flex items-center mb-6 relative z-10">
              <span class="text-2xl mr-3">{{ stack.icon }}</span>
              <h3 class="text-xl font-bold text-gray-900 dark:text-white">
                {{ stack.category }}
              </h3>
            </div>

            <div class="space-y-4 relative z-10">
              <div
                v-for="skill in stack.skills"
                :key="skill.name"
                class="skill-item"
              >
                <div class="flex justify-between items-center mb-2">
                  <span class="font-medium text-gray-700 dark:text-gray-300">{{
                    skill.name
                  }}</span>
                  <span class="text-sm text-gray-500 dark:text-gray-400"
                    >{{ skill.level }}%</span
                  >
                </div>
                <div
                  class="w-full bg-gray-200 dark:bg-zinc-700 rounded-full h-2"
                >
                  <div
                    class="h-2 rounded-full transition-all duration-1000 ease-out"
                    :style="{
                      width: `${skill.level}%`,
                      backgroundColor: skill.color,
                    }"
                  ></div>
                </div>
              </div>
            </div>
          </CardView>
        </div>
      </section>

      <!-- è”ç³»æ–¹å¼ -->
      <section class="text-center">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">
          è”ç³»æˆ‘
        </h2>
        <CardView
          class="max-w-4xl mx-auto relative overflow-hidden"
          padding="p-8"
        >
          <!-- èƒŒæ™¯è£…é¥° -->
          <div class="absolute top-0 right-0 w-32 h-32 opacity-5">
            <img
              src="/src/assets/zx.svg"
              alt="logo decoration"
              class="w-full h-full object-contain"
            />
          </div>

          <div class="relative z-10">
            <p
              class="text-gray-600 dark:text-gray-300 mb-8 text-lg leading-relaxed"
            >
              å‡†å¤‡å¼€å§‹æ‚¨çš„é¡¹ç›®äº†å—ï¼Ÿæˆ‘å¾ˆä¹æ„ä¸æ‚¨è®¨è®ºé¡¹ç›®éœ€æ±‚ï¼Œæä¾›ä¸“ä¸šçš„æŠ€æœ¯æ–¹æ¡ˆã€‚
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div
                v-for="contact in contacts"
                :key="contact.platform"
                @click="copyToClipboard(contact.value, contact.platform)"
                class="group cursor-pointer"
              >
                <div
                  class="p-4 rounded-lg border-2 border-gray-200 dark:border-zinc-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
                >
                  <div class="text-2xl mb-2">{{ contact.icon }}</div>
                  <div class="font-semibold text-gray-900 dark:text-white mb-1">
                    {{ contact.platform }}
                  </div>
                  <div
                    class="text-sm text-gray-600 dark:text-gray-300 break-all"
                  >
                    {{ contact.value }}
                  </div>
                  <div
                    class="text-xs text-blue-600 dark:text-blue-400 mt-2 opacity-0 group-hover:opacity-100 transition-opacity"
                  >
                    ç‚¹å‡»å¤åˆ¶
                  </div>
                </div>
              </div>
            </div>

            <div
              class="mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-zinc-800 dark:to-zinc-700 rounded-lg"
            >
              <h3 class="font-bold text-gray-900 dark:text-white mb-2">
                ğŸ’¡ æœåŠ¡æµç¨‹
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-sm">
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    1. éœ€æ±‚åˆ†æ
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    æ·±å…¥äº†è§£é¡¹ç›®éœ€æ±‚
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    2. æŠ€æœ¯æ–¹æ¡ˆ
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    åˆ¶å®šæœ€ä¼˜æŠ€æœ¯æ–¹æ¡ˆ
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    3. å¼€å‘å®ç°
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    é«˜è´¨é‡ä»£ç å®ç°
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    4. äº¤ä»˜æ”¯æŒ
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    é¡¹ç›®äº¤ä»˜åŠæŠ€æœ¯æ”¯æŒ
                  </div>
                </div>
              </div>
            </div>
          </div>
        </CardView>
      </section>
    </div>
  </div>
</template>

<style scoped>
.animate-fade-in {
  animation: fadeIn 0.8s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.8s ease-out forwards;
}

.skill-item:hover .h-2 {
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* å“åº”å¼è®¾è®¡è°ƒæ•´ */
@media (max-width: 768px) {
  .grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
  }

  .md\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>
