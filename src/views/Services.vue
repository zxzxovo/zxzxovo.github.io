<script setup lang="ts">
import { ref, onMounted } from "vue";
import CardView from "@/components/CardView.vue";

// ÊúçÂä°Êï∞ÊçÆ
const services = ref([
  {
    id: 1,
    title: "ÂâçÁ´Ø/ÂêéÁ´ØÂºÄÂèë",
    icon: "üåê",
    description:
      "Âü∫‰∫éVueÁöÑÁé∞‰ª£ÂåñÂâçÁ´ØÂºÄÂèëÔºåÁªìÂêàRust actix-webÔºåJava SpringÁ≠âÊäÄÊúØÊ†àÁöÑÂêéÁ´ØÂºÄÂèëÊúçÂä°",
    features: [
      "Vue.js/React ÂìçÂ∫îÂºèÂâçÁ´ØÁïåÈù¢",
      "Java Spring Boot ÂêéÁ´Ø",
      "Rust actix-web È´òÊÄßËÉΩAPI",
      "Êï∞ÊçÆÂ∫ìËÆæËÆ°‰∏é‰ºòÂåñ",
      "RESTful API ËÆæËÆ°‰∏éÂÆûÁé∞",
      "ÂâçÂêéÁ´ØÂàÜÁ¶ªÊû∂ÊûÑ",
    ],
    technologies: [
      "Vue.js",
      "TypeScript",
      "Java",
      "Spring",
      "Rust",
      "MySQL",
      "Redis",
    ],
    price: "¬•1000 +",
    duration: "1-3 Âë®",
    gradient: "from-blue-500 to-indigo-600",
  },
  {
    id: 2,
    title: "PCÁ´ØÂ∑•ÂÖ∑ÂºÄÂèë",
    icon: "üñ•Ô∏è",
    description:
      "‰ΩøÁî®Rust„ÄÅC/C++„ÄÅJavaÁ≠âÁºñÁ®ãËØ≠Ë®ÄÂºÄÂèëÈ´òÊÄßËÉΩPCÁ´ØÂ∑•ÂÖ∑ËΩØ‰ª∂ÔºåÊèê‰æõÂéüÁîüÊÄßËÉΩÂíå‰ºòÁßÄÁî®Êà∑‰ΩìÈ™å",
    features: [
      "Ë∑®Âπ≥Âè∞Ê°åÈù¢Â∫îÁî®ÂºÄÂèë",
      "Áé∞‰ª£ÂåñUIËÆæËÆ°",
      "È´òÊÄßËÉΩÁ≥ªÁªüÂ∑•ÂÖ∑",
      "ÂÜÖÂ≠òÂÆâÂÖ®‰øùËØÅ",
      "Â§öÁ∫øÁ®ãÂπ∂ÂèëÂ§ÑÁêÜ",
    ],
    technologies: ["Rust", "Tauri", "C/C++", "Java", "Vue.js", "Electron"],
    price: "¬•300 +",
    duration: "1-4 Âë®",
    gradient: "from-purple-500 to-pink-600",
  },
  {
    id: 3,
    title: "Áîü‰ø°ËΩØ‰ª∂ÂºÄÂèë",
    icon: "üß¨",
    description:
      "‰∏ì‰∏öÁöÑÁîüÁâ©‰ø°ÊÅØÂ≠¶Â∑•ÂÖ∑ÂºÄÂèëÔºåÂåÖÊã¨Âü∫Âõ†Â∫èÂàóÂ§ÑÁêÜ„ÄÅÈ´òÈÄöÈáèÊµãÂ∫èÊï∞ÊçÆÂ§ÑÁêÜ„ÄÅÊï∞ÊçÆÂèØËßÜÂåñÂàÜÊûêÁ≠âÂêÑÁßçÊñá‰ª∂Â§ÑÁêÜÂ∑•ÂÖ∑",
    features: [
      "Âü∫Âõ†Â∫èÂàóÂàÜÊûêÁÆóÊ≥ï",
      "È´òÈÄöÈáèÊµãÂ∫èÊï∞ÊçÆÂ§ÑÁêÜ",
      "ÁîüÁâ©Êï∞ÊçÆÂèØËßÜÂåñ",
      "Êñá‰ª∂Êï∞ÊçÆÂ§ÑÁêÜÂ∑•ÂÖ∑",
      "FASTA/FASTQÊ†ºÂºèÊîØÊåÅ",
      "ÁªüËÆ°ÂàÜÊûê‰∏éÊä•ÂëäÁîüÊàê",
    ],
    technologies: ["Rust", "Python", "BioPython", "R", "D3.js", "pandas"],
    price: "¬•400 +",
    duration: "2-6 Âë®",
    gradient: "from-green-500 to-teal-600",
  },
  {
    id: 4,
    title: "‰Ωú‰∏öËæÖÂØº/ÊäÄÊúØÂüπËÆ≠",
    icon: "üéì",
    description:
      "Êèê‰æõÂ§ßÂ≠¶ÁîüËΩØ‰ª∂ËÆæËÆ°‰Ωú‰∏öËæÖÂØº„ÄÅÁºñÁ®ãÊäÄÊúØÂüπËÆ≠„ÄÅ‰ª£Á†ÅÂÆ°Êü•„ÄÅÊäÄÊúØÂí®ËØ¢ÂíåÈ°πÁõÆÊåáÂØºÊúçÂä°",
    features: [
      "‰∏ÄÂØπ‰∏ÄÁºñÁ®ãÊåáÂØº",
      "ËΩØ‰ª∂ËÆæËÆ°‰Ωú‰∏öËæÖÂØº",
      "‰ª£Á†ÅË¥®ÈáèÂÆ°Êü•",
      "Êû∂ÊûÑËÆæËÆ°Âí®ËØ¢",
      "Â≠¶‰π†Ë∑ØÂæÑËßÑÂàí",
      "ÊäÄÊúØÈù¢ËØïÊåáÂØº",
    ],
    technologies: ["Â§öËØ≠Ë®ÄÊîØÊåÅ", "ÊúÄ‰Ω≥ÂÆûË∑µ", "ËÆæËÆ°Ê®°Âºè", "ÁÆóÊ≥ï‰∏éÊï∞ÊçÆÁªìÊûÑ"],
    price: "¬•66+",
    duration: "ÁÅµÊ¥ªÂÆâÊéí",
    gradient: "from-orange-500 to-red-600",
  },
]);

// ÊäÄÊúØÊ†àÂàÜÁ±ª
const techStacks = ref([
  {
    category: "ÁºñÁ®ãËØ≠Ë®Ä",
    icon: "üíª",
    skills: [
      { name: "Rust", level: 90, color: "#CE422B" },
      { name: "Java", level: 85, color: "#ED8B00" },
      { name: "C/C++", level: 75, color: "#00599C" },
      { name: "JavaScript/TypeScript", level: 70, color: "#3178C6" },
      { name: "Python", level: 75, color: "#3776AB" },
      { name: "Kotlin", level: 70, color: "#7F52FF" },
    ],
  },
  {
    category: "Ê°ÜÊû∂/Â∫îÁî®",
    icon: "üîß",
    skills: [
      { name: "Vue.js", level: 85, color: "#4FC08D" },
      { name: "Spring", level: 80, color: "#6DB33F" },
      { name: "Tauri", level: 80, color: "#FFC131" },
      { name: "Tokio", level: 60, color: "#CE422B" },
      { name: "MySQL", level: 85, color: "#4479A1" },
      { name: "Redis", level: 70, color: "#DC382D" },
      { name: "Android", level: 80, color: "#3DDC84" },
    ],
  },
  {
    category: "Â∑•ÂÖ∑",
    icon: "üõ†Ô∏è",
    skills: [
      { name: "Git/GitHub", level: 90, color: "#F05032" },
      { name: "Linux", level: 85, color: "#FCC624" },
      { name: "Vim", level: 80, color: "#019733" },
      { name: "VSCode", level: 92, color: "#007ACC" },
      { name: "Docker", level: 70, color: "#2496ED" },
      { name: "AI Vibe coding", level: 88, color: "#009639" },
    ],
  },
]);

// ËÅîÁ≥ªÊñπÂºè
const contacts = ref([
  {
    platform: "ÈÇÆÁÆ±",
    value: "zhixiaovo@gmail.com",
    icon: "üìß",
    link: "mailto:zhixiaovo@gmail.com",
    color: "text-red-600 dark:text-red-400",
  },
  {
    platform: "QQ",
    value: "2244697793",
    icon: "üí¨",
    link: "https://qm.qq.com/cgi-bin/qm/qr?k=your_qq_qr_code",
    color: "text-blue-600 dark:text-blue-400",
  },
  {
    platform: "ÂæÆ‰ø°",
    value: "hizhixia",
    icon: "üí≠",
    link: "#",
    color: "text-green-600 dark:text-green-400",
  },
  {
    platform: "Telegram",
    value: "t.me/zhixiaovo",
    icon: "‚úàÔ∏è",
    link: "https://t.me/zhixiaovo",
    color: "text-sky-600 dark:text-sky-400",
  },
]);

// Âä®ÁîªÁä∂ÊÄÅ
const isVisible = ref(false);

// Â§çÂà∂ËÅîÁ≥ªÊñπÂºè
const copyToClipboard = async (text: string, platform: string) => {
  try {
    await navigator.clipboard.writeText(text);
    // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†ÊèêÁ§∫Ê∂àÊÅØ
    console.log(`${platform} Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø`);
  } catch (err) {
    console.error("Â§çÂà∂Â§±Ë¥•:", err);
  }
};

onMounted(() => {
  // Âª∂ËøüÂä†ËΩΩÂä®Áîª
  setTimeout(() => {
    isVisible.value = true;
  }, 100);
});
</script>

<template>
  <div class="bg-gray-50 dark:bg-zinc-900 py-8 px-4">
    <div class="max-w-7xl mx-auto">
      <!-- ÊúçÂä°ÂàóË°® -->
      <section class="mb-16">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <CardView
            v-for="service in services"
            :key="service.id"
            class="hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group"
            padding="p-0"
            css-width="w-full"
          >
            <div class="relative overflow-hidden">
              <!-- ËÉåÊôØÊ∏êÂèò -->
              <div
                class="absolute top-0 left-0 w-full h-40 bg-gradient-to-r"
                :class="service.gradient"
              ></div>

              <!-- ÊúçÂä°ÂÜÖÂÆπ -->
              <div class="relative p-6 pt-8">
                <div class="flex items-start mb-4">
                  <span class="text-4xl mr-4 mt-2">{{ service.icon }}</span>
                  <div class="flex-1">
                    <h3 class="text-xl font-bold text-white mb-2">
                      {{ service.title }}
                    </h3>
                    <div class="flex items-center text-white/80 text-sm">
                      <span class="mr-4">üí∞ {{ service.price }}</span>
                      <span>‚è±Ô∏è {{ service.duration }}</span>
                    </div>
                  </div>
                </div>

                <div class="bg-white dark:bg-zinc-800 rounded-lg p-6 mt-6">
                  <p
                    class="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed"
                  >
                    {{ service.description }}
                  </p>

                  <!-- ÁâπÊÄßÂàóË°® -->
                  <div class="mb-4">
                    <h4
                      class="font-semibold text-gray-900 dark:text-white mb-3"
                    >
                      ÊúçÂä°ÂÜÖÂÆπÔºö
                    </h4>
                    <ul class="space-y-2">
                      <li
                        v-for="feature in service.features"
                        :key="feature"
                        class="flex items-start text-sm text-gray-600 dark:text-gray-300"
                      >
                        <span class="text-green-500 mr-2 mt-0.5 flex-shrink-0"
                          >‚úì</span
                        >
                        <span>{{ feature }}</span>
                      </li>
                    </ul>
                  </div>

                  <!-- ÊäÄÊúØÊ†áÁ≠æ -->
                  <div>
                    <h4
                      class="font-semibold text-gray-900 dark:text-white mb-3"
                    >
                      ÊäÄÊúØÊ†àÔºö
                    </h4>
                    <div class="flex flex-wrap gap-2">
                      <span
                        v-for="tech in service.technologies"
                        :key="tech"
                        class="px-3 py-1 bg-gray-100 dark:bg-zinc-700 text-gray-700 dark:text-gray-300 rounded-full text-xs font-medium hover:bg-blue-100 dark:hover:bg-zinc-600 transition-colors"
                      >
                        {{ tech }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardView>
        </div>
      </section>

      <!-- ÊäÄÊúØÊ†àÂ±ïÁ§∫ -->
      <section class="mb-16">
        <h2
          class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center"
        >
          ÊäÄÊúØÊ†à
        </h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <CardView
            v-for="(stack, index) in techStacks"
            :key="index"
            class="hover:shadow-xl transition-all duration-300 relative overflow-hidden"
            padding="p-6"
          >

            <div class="flex items-center mb-6 relative z-10">
              <span class="text-2xl mr-3">{{ stack.icon }}</span>
              <h3 class="text-xl font-bold text-gray-900 dark:text-white">
                {{ stack.category }}
              </h3>
            </div>

            <div class="space-y-4 relative z-10">
              <div
                v-for="skill in stack.skills"
                :key="skill.name"
                class="skill-item"
              >
                <div class="flex justify-between items-center mb-2">
                  <span class="font-medium text-gray-700 dark:text-gray-300">{{
                    skill.name
                  }}</span>
                  <span class="text-sm text-gray-500 dark:text-gray-400"
                    >{{ skill.level }}%</span
                  >
                </div>
                <div
                  class="w-full bg-gray-200 dark:bg-zinc-700 rounded-full h-2"
                >
                  <div
                    class="h-2 rounded-full transition-all duration-1000 ease-out"
                    :style="{
                      width: `${skill.level}%`,
                      backgroundColor: skill.color,
                    }"
                  ></div>
                </div>
              </div>
            </div>
          </CardView>
        </div>
      </section>

      <!-- ËÅîÁ≥ªÊñπÂºè -->
      <section class="text-center">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">
          ËÅîÁ≥ªÊàë
        </h2>
        <CardView
          class="max-w-4xl mx-auto relative overflow-hidden"
          padding="p-8"
        >
          <!-- ËÉåÊôØË£ÖÈ•∞ -->
          <div class="absolute top-0 right-0 w-32 h-32 opacity-5">
            <img
              src="/src/assets/zx.svg"
              alt="logo decoration"
              class="w-full h-full object-contain"
            />
          </div>

          <div class="relative z-10">
            <p
              class="text-gray-600 dark:text-gray-300 mb-8 text-lg leading-relaxed"
            >
              ÂáÜÂ§áÂºÄÂßãÊÇ®ÁöÑÈ°πÁõÆ‰∫ÜÂêóÔºüÊàëÂæà‰πêÊÑè‰∏éÊÇ®ËÆ®ËÆ∫È°πÁõÆÈúÄÊ±ÇÔºåÊèê‰æõ‰∏ì‰∏öÁöÑÊäÄÊúØÊñπÊ°à„ÄÇ
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div
                v-for="contact in contacts"
                :key="contact.platform"
                @click="copyToClipboard(contact.value, contact.platform)"
                class="group cursor-pointer"
              >
                <div
                  class="p-4 rounded-lg border-2 border-gray-200 dark:border-zinc-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
                >
                  <div class="text-2xl mb-2">{{ contact.icon }}</div>
                  <div class="font-semibold text-gray-900 dark:text-white mb-1">
                    {{ contact.platform }}
                  </div>
                  <div
                    class="text-sm text-gray-600 dark:text-gray-300 break-all"
                  >
                    {{ contact.value }}
                  </div>
                  <div
                    class="text-xs text-blue-600 dark:text-blue-400 mt-2 opacity-0 group-hover:opacity-100 transition-opacity"
                  >
                    ÁÇπÂáªÂ§çÂà∂
                  </div>
                </div>
              </div>
            </div>

            <div
              class="mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-zinc-800 dark:to-zinc-700 rounded-lg"
            >
              <h3 class="font-bold text-gray-900 dark:text-white mb-2">
                üí° ÊúçÂä°ÊµÅÁ®ã
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-sm">
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    1. ÈúÄÊ±ÇÂàÜÊûê
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    Ê∑±ÂÖ•‰∫ÜËß£È°πÁõÆÈúÄÊ±Ç
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    2. ÊäÄÊúØÊñπÊ°à
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    Âà∂ÂÆöÊúÄ‰ºòÊäÄÊúØÊñπÊ°à
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    3. ÂºÄÂèëÂÆûÁé∞
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    È´òË¥®Èáè‰ª£Á†ÅÂÆûÁé∞
                  </div>
                </div>
                <div class="text-center">
                  <div class="text-blue-600 dark:text-blue-400 font-semibold">
                    4. ‰∫§‰ªòÊîØÊåÅ
                  </div>
                  <div class="text-gray-600 dark:text-gray-300">
                    È°πÁõÆ‰∫§‰ªòÂèäÊäÄÊúØÊîØÊåÅ
                  </div>
                </div>
              </div>
            </div>
          </div>
        </CardView>
      </section>
    </div>
  </div>
</template>

<style scoped>
.animate-fade-in {
  animation: fadeIn 0.8s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.8s ease-out forwards;
}

.skill-item:hover .h-2 {
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ÂìçÂ∫îÂºèËÆæËÆ°Ë∞ÉÊï¥ */
@media (max-width: 768px) {
  .grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
  }

  .md\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>
